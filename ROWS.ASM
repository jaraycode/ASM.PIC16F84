		LIST P=16F84A
		
; REGISTROS 
STATUS		EQU		03H
INTCON		EQU		0BH
OP			EQU		01H
TMR0		EQU		01H
PB			EQU		06H
TRISB		EQU		06H

; REGISTROS VARIABLES
VAR			EQU		10H
ROWS		EQU		11H

		ORG	0; INICIO
		GOTO INIT
		
INIT	ORG	20
		BSF		STATUS,5
		CLRF	TRISB
		MOVLW	B'00000111'
		MOVWF	OP
		BCF		STATUS,5
		MOVLW	B'10100000'
		MOVWF	INTCON
		MOVLW	D'232'
		MOVWF	TMR0
		MOVLW	D'60'
		MOVWF	VAR
		MOVLW	D'8'
		MOVWF	ROWS

		CLRF	PB
		
X1		NOP
		NOP
		NOP
		GOTO	X1
		
		ORG	4;
		GOTO	INTE
		
INTE	ORG 60;
		DECFSZ	VAR,1;
		GOTO	E1
		CALL	ROW;
		BTFSS	PB,0
		GOTO	ELED0
		BTFSS	PB,1
		GOTO	ELED1
		BTFSS	PB,2
		GOTO	ELED2
		BTFSS	PB,3
		GOTO	ELED3
		BTFSS	PB,4
		GOTO	ELED4
		BTFSS	PB,5
		GOTO	ELED5
		BTFSS	PB,6
		GOTO	ELED6
		BTFSS	PB,7
		GOTO	ELED7

ROW		DECFSZ	ROWS,1;
		RETURN
		CLRF	PB
		MOVLW	D'8'
		MOVWF	ROWS
		RETURN
		
ELED0	BSF		PB,0
		GOTO	E2
		
ELED1	BSF		PB,1
		GOTO	E2
		
ELED2	BSF		PB,2
		GOTO	E2
		
ELED3	BSF		PB,3
		GOTO	E2
		
ELED4	BSF		PB,4
		GOTO	E2
		
ELED5	BSF		PB,5
		GOTO	E2
		
ELED6	BSF		PB,6
		GOTO	E2
		
ELED7	BSF		PB,7
		GOTO	E2
		
E2		MOVLW	D'60'
		MOVWF	VAR
E1		MOVLW	D'232'
		MOVWF	TMR0
		
		BCF		INTCON,2
		RETFIE
		END